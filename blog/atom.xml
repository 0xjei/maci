<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://maci.pse.dev/blog</id>
    <title>MACI Blog</title>
    <updated>2024-02-28T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://maci.pse.dev/blog"/>
    <subtitle>MACI Blog</subtitle>
    <icon>https://maci.pse.dev/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[MACI v1.2.0 Release]]></title>
        <id>https://maci.pse.dev/blog/maci-v1-2-0-release</id>
        <link href="https://maci.pse.dev/blog/maci-v1-2-0-release"/>
        <updated>2024-02-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce the release of MACI v1.2.0!]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce the release of MACI <a href="https://github.com/privacy-scaling-explorations/maci/releases/tag/v1.2.0" target="_blank" rel="noopener noreferrer">v1.2.0</a>!</p>
<p>This is our first release since <a href="https://maci.pse.dev/blog/maci-v1-1-1-release">MACI v1.1.1</a> just over one year ago. This new release focuses on improved developer experience, security, performance and clearer documentation for users looking to learn and use MACI.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="background">Background<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>MACI - Minimal Anti-Collusion Infrastructure - is an Ethereum application that provides privacy and collusion resistance for on-chain voting. If you're new to MACI, we first recommend reading our <a href="https://maci.pse.dev/docs/introduction">documentation</a> for background information and and technical details.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="refactoring-work">Refactoring Work<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#refactoring-work" class="hash-link" aria-label="Direct link to Refactoring Work" title="Direct link to Refactoring Work">​</a></h2>
<p>We prioritized enhancing MACI's developer experience by refactoring its code, fixing bugs, and improving documentation.</p>
<p>Key refactoring activities were:</p>
<ol>
<li>Upgrading libraries to their latest versions and substituting obsolete dependencies with up-to-date and actively maintained alternatives.</li>
<li>Making the code standardized, modular, well-documented, and uniformly formatted.</li>
<li>Fixing bugs and community-reported issues.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="library-updates">Library Updates<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#library-updates" class="hash-link" aria-label="Direct link to Library Updates" title="Direct link to Library Updates">​</a></h3>
<p>MACI has relied on custom code and dependencies since its initial implementation, notably from repositories by one of the original MACI developers, <a href="https://github.com/weijiekoh" target="_blank" rel="noopener noreferrer">Koh Wei Jie</a>. We felt that MACI could benefit from a dependency refresh, so we've shifted towards using actively maintained open-source libraries, such as <a href="https://github.com/erhant/circomkit" target="_blank" rel="noopener noreferrer">circomkit</a> and <a href="https://github.com/privacy-scaling-explorations/zk-kit" target="_blank" rel="noopener noreferrer">zk-kit</a>.</p>
<p>Circomkit has become our go-to for circuit-related tasks, such as compiling circuits, generating test zkeys, and unit tests.</p>
<p>We've moved reusable circuit logic, like our <a href="https://github.com/privacy-scaling-explorations/zk-kit/tree/main/packages/poseidon-cipher" target="_blank" rel="noopener noreferrer">Poseidon permutation</a>&nbsp;encryption and decryption code, into zk-kit. This not only benefits MACI through more circuit usage and testing but also supports wider community adoption.</p>
<p>These efforts are part of a broader initiative at <a href="https://pse.dev/" target="_blank" rel="noopener noreferrer">Privacy and Scaling Explorations (PSE)</a> to foster open-source development and contribute to public goods. By aligning MACI with these values, we aim to enhance its utility and encourage collaborative growth. In the coming months, we're committed to extracting more of our circuit logic for broader use (<a href="https://github.com/privacy-scaling-explorations/zk-kit/issues/131" target="_blank" rel="noopener noreferrer">track progress here</a>) and contributing to projects that align with <a href="https://maci.pse.dev/roadmap#maci-mission--vision">our mission</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="code-refactor">Code Refactor<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#code-refactor" class="hash-link" aria-label="Direct link to Code Refactor" title="Direct link to Code Refactor">​</a></h3>
<p>We've undergone extensive efforts to clean up MACI's code:</p>
<ul>
<li>Removed dead and redundant code.</li>
<li>Split monolithic files into smaller, logically structured ones.</li>
<li>Improved documentation with detailed code comments and tools like (<a href="https://typedoc.org/" target="_blank" rel="noopener noreferrer">TypeDoc</a>&nbsp;and&nbsp;<a href="https://github.com/OpenZeppelin/solidity-docgen" target="_blank" rel="noopener noreferrer">solidity-docgen</a>) for automatic doc generation.</li>
<li>Enforced strong type safety on the TypeScript components.</li>
<li>Optimized and modularized the smart contract code.</li>
<li>Extended the test suites.</li>
</ul>
<p>These improvements aim to simplify the onboarding process for new developers, ensuring they can easily navigate and effectively utilize MACI.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="new-features">New Features<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="flexible-voting-strategies">Flexible Voting Strategies<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#flexible-voting-strategies" class="hash-link" aria-label="Direct link to Flexible Voting Strategies" title="Direct link to Flexible Voting Strategies">​</a></h3>
<p>After years of built-in quadratic voting (QV) in MACI, we now support non-quadratic voting polls. This opens up the door to potential integrations with a wider variety of projects, such as DAO governance applications.</p>
<p>The new version of the Tally circuit (specific for non-QV), has reduced constraints, enabling a quicker proof generation process for vote tallying.</p>
<p>We invite projects interested in leveraging this secure, on-chain voting mechanism to reach out for potential integrations. We hope to continue to expand support for additional voting methodologies, so please let us know your project's needs!</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="new-gatekeeper">New Gatekeeper<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#new-gatekeeper" class="hash-link" aria-label="Direct link to New Gatekeeper" title="Direct link to New Gatekeeper">​</a></h3>
<p>In our effort to fortify MACI against Sybil attacks, we've integrated an innovative gatekeeper mechanism: <a href="https://attest.sh/" target="_blank" rel="noopener noreferrer">EAS</a> - you can <a href="https://github.com/privacy-scaling-explorations/maci/blob/v1.2.0/contracts/contracts/gatekeepers/EASGatekeeper.sol" target="_blank" rel="noopener noreferrer">view the contract here</a>.</p>
<p>As part of configuring a MACI deployment, the coordinator sets a user signup gatekeeper contract. This contract dictates the criteria a user must pass in order to participate in a poll. For example, user might need to prove ownership of a certain NFT, or prove that they have passed some sort of proof-of-personhood verification.</p>
<p>With the addition of this new gatekeeper, EAS (and soon™ <a href="https://www.hatsprotocol.xyz/" target="_blank" rel="noopener noreferrer">Hats Protocol</a>, MACI instances could be configured to e.g. only allow Ethereum accounts with a trusted EAS attestation or those designated with a specific role by the Hats Protocol. These modules open up new avenues for access control strategies.</p>
<p>We expect to continue to expand our <a href="https://github.com/privacy-scaling-explorations/maci/tree/dev/contracts/contracts/gatekeepers" target="_blank" rel="noopener noreferrer">gatekeeper capabilities</a> and welcome the community to come up with new and innovative ways to grant access to MACI's rounds, helping make MACI more customizable and sybil-resilient. The Hats Protocol gatekeeper is <a href="https://github.com/privacy-scaling-explorations/maci/pull/1191" target="_blank" rel="noopener noreferrer">currently in progress</a> and will be released soon™ (in v1.2.1).</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="documentation-website">Documentation Website<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#documentation-website" class="hash-link" aria-label="Direct link to Documentation Website" title="Direct link to Documentation Website">​</a></h3>
<p>We're excited to announce that all MACI documentation has been unified on our new website, <a href="https://maci.pse.dev/">maci.pse.dev</a>!</p>
<p>This platform will serve as the definitive resource for all information related to MACI, including <a href="https://maci.pse.dev/blog">blog</a> releases, <a href="https://maci.pse.dev/docs/introduction">documentation</a> updates, and <a href="https://maci.pse.dev/roadmap">roadmap</a> progress. Please report any inconsistencies you may find. As always, we welcome suggestions on how to make it better.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="security-audit">Security Audit<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#security-audit" class="hash-link" aria-label="Direct link to Security Audit" title="Direct link to Security Audit">​</a></h2>
<p>Thanks to thorough reviews by PSE's internal Audit team, clr.fund's developer, <a href="https://github.com/yuetloo" target="_blank" rel="noopener noreferrer">yuetloo</a>, and our core development team, we've identified and addressed several bugs during our recent refactoring efforts. Most notably, a critical bug in MACI v1.x discovered by <a href="https://github.com/kcharbo3" target="_blank" rel="noopener noreferrer">Kyle</a>, which could have allowed coordinators to censor votes, has been <a href="https://github.com/privacy-scaling-explorations/maci/pull/1170" target="_blank" rel="noopener noreferrer">fixed</a>.</p>
<p>For more details on our recent audit, please <a href="https://maci.pse.dev/docs/audit#pse-audit-2024">refer to our audit docs</a> or <a href="https://maci.pse.dev/assets/files/20240223_PSE_Audit_audit_report-a181b98b05198c102be49113c354b5f2.pdf" target="_blank">view the full report</a>.</p>
<p>After this audit and the resulting fixes, we feel more confident with MACI and its security.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="trusted-setup-ceremony">Trusted Setup Ceremony<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#trusted-setup-ceremony" class="hash-link" aria-label="Direct link to Trusted Setup Ceremony" title="Direct link to Trusted Setup Ceremony">​</a></h2>
<p>Following the successful completion of our <a href="https://ceremony.pse.dev/projects/Maci%20v1%20Trusted%20Setup%20Ceremony" target="_blank" rel="noopener noreferrer">MACI trusted setup ceremony</a>&nbsp;for <a href="https://maci.pse.dev/blog/maci-v1-1-1-release">MACI v1.1.1</a>, we are preparing for a new ceremony to cover the security enhancements added in our v1.2.0 circuits.</p>
<p>To accomplish this, we'll leverage the tooling of <a href="https://github.com/privacy-scaling-explorations/p0tion" target="_blank" rel="noopener noreferrer">P0tion</a>, which helps to streamline and automate Groth16 phase2 ceremonies.</p>
<p>We'll update this page after the ceremony completes to include the production-ready zkey artifacts. In the meantime, the artifacts for v.1.1.1 can be found on our&nbsp;<a href="https://maci.pse.dev/docs/trusted-setup">website</a>, and the&nbsp;<a href="https://github.com/privacy-scaling-explorations/maci/blob/dev/circuits/circom/tallyVotes.circom" target="_blank" rel="noopener noreferrer"><code>tallyVotes</code></a>&nbsp;artifacts can still be used in production.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="get-involved">Get Involved<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#get-involved" class="hash-link" aria-label="Direct link to Get Involved" title="Direct link to Get Involved">​</a></h2>
<p>MACI is deeply committed to our community, through our open initiatives like <a href="https://github.com/privacy-scaling-explorations/maci/discussions/859" target="_blank" rel="noopener noreferrer">public roadmaps</a>, transparent <a href="https://github.com/privacy-scaling-explorations/maci/discussions/847" target="_blank" rel="noopener noreferrer">repository management</a>, and a <a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer">public Discord channel</a> for interaction with our team.</p>
<p>With every issue, PR, feature and roadmap iteration, we welcome feedback to ensure that the continued development of MACI reflects your and the community's needs. Keep an eye out on our&nbsp;<a href="https://maci.pse.dev/">documentation</a>,&nbsp;<a href="https://github.com/privacy-scaling-explorations/maci/discussions" target="_blank" rel="noopener noreferrer">GitHub discussions</a>&nbsp;and our official&nbsp;<a href="https://twitter.com/zkMACI" target="_blank" rel="noopener noreferrer">Twitter/X account</a>&nbsp;for updates.</p>
<p>For those looking to contribute directly, report bugs, or offer feedback, our <a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer">GitHub repository</a> is open for issues and discussions. We're eager to assist with your projects or contributions.</p>
<p>For practical implementation insights, review our docs as well as the <a href="https://github.com/clrfund/monorepo/" target="_blank" rel="noopener noreferrer">clr.fund</a>&nbsp;and&nbsp;<a href="https://github.com/privacy-scaling-explorations/qf" target="_blank" rel="noopener noreferrer">QF</a>&nbsp;repositories as reference implementations. Both are quadratic funding implementations, a mechanism which otherwise is highly susceptible to collusion and bribery. Most notably,&nbsp;clr.fund&nbsp;is already working on integrating MACI v1.2.0, after having used v0.x until now. You can follow their development effort under this&nbsp;<a href="https://github.com/clrfund/monorepo/tree/feat/maci-v1" target="_blank" rel="noopener noreferrer">GitHub branch</a>.</p>
<p>For any other questions or feedback, please reach out to us via <a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer">PSE's Discord</a>,&nbsp;in our&nbsp;<a href="https://https//discord.com/channels/943612659163602974/1164613809730748507" target="_blank" rel="noopener noreferrer"><code>#🗳️-maci</code> channel</a>. We're excited to connect and collaborate with you!</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="references">References<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer">MACI GitHub repository</a></li>
<li><a href="https://maci.pse.dev/docs/introduction">MACI documentation</a></li>
<li><a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction">A technical introduction to MACI 1.0 - Kyle Charbonnet</a></li>
<li><a href="https://ethresear.ch/t/minimal-anti-collusion-infrastructure/5413" target="_blank" rel="noopener noreferrer">Minimal anti-collusion infrastructure - Vitalik</a></li>
<li><a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer">PSE Discord server</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="release">Release<a href="https://maci.pse.dev/blog/maci-v1-2-0-release#release" class="hash-link" aria-label="Direct link to Release" title="Direct link to Release">​</a></h2>
<p>Here's the link to the new release code in GitHub:&nbsp;<a href="https://github.com/privacy-scaling-explorations/maci/releases/tag/v1.2.0" target="_blank" rel="noopener noreferrer">v1.2.0 Release</a>.</p>]]></content>
        <author>
            <name>ctrlc03</name>
            <uri>https://pse.dev</uri>
        </author>
        <category label="release" term="release"/>
        <category label="audit" term="audit"/>
        <category label="security" term="security"/>
        <category label="documentation" term="documentation"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[New year, new MACI]]></title>
        <id>https://maci.pse.dev/blog/2024-team-roadmap</id>
        <link href="https://maci.pse.dev/blog/2024-team-roadmap"/>
        <updated>2024-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Greetings anons,]]></summary>
        <content type="html"><![CDATA[<p>Greetings anons,</p>
<p>Happy 2024 and welcome to the new MACI documentation website and blog! Moving forward, we’ll post our latest project news and development updates here.</p>
<p>We have a few exciting announcements to share, but first, a quick review:</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="overview-of-maci">Overview of MACI<a href="https://maci.pse.dev/blog/2024-team-roadmap#overview-of-maci" class="hash-link" aria-label="Direct link to Overview of MACI" title="Direct link to Overview of MACI">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="wtf-is-maci">WTF is MACI?<a href="https://maci.pse.dev/blog/2024-team-roadmap#wtf-is-maci" class="hash-link" aria-label="Direct link to WTF is MACI?" title="Direct link to WTF is MACI?">​</a></h3>
<p><strong>Minimal Anti-Collusion Infrastructure (MACI) is an on-chain voting system which protects privacy and minimizes the risk of collusion and bribery.</strong></p>
<p>MACI is a set of smart contracts and zero-knowledge circuits upon which developers can build applications, such as voting applications or quadratic funding platforms. It was originally <a href="https://ethresear.ch/t/minimal-anti-collusion-infrastructure/5413" target="_blank" rel="noopener noreferrer">proposed by Vitalik Buterin</a> in 2019, then implemented and maintained by community members with support from the <a href="https://ethereum.foundation/" target="_blank" rel="noopener noreferrer">Ethereum Foundation</a>. It's now actively maintained within <a href="https://pse.dev/" target="_blank" rel="noopener noreferrer">Privacy &amp; Scaling Explorations (PSE)</a>.</p>
<p>Using MACI, <strong>voting is private</strong>, yet <strong>voting results are public</strong>. On-chain votes are encrypted, and no voter can prove how they voted, but final results are published publicly and verified on-chain with cryptographic proofs to prevent censorship, bribery, collusion, fraud, and other nefarious acts common in public polling processes.</p>
<p>To understand the promise of on-chain voting, start with <a href="https://vitalik.eth.limo/general/2021/05/25/voting2.html" target="_blank" rel="noopener noreferrer">Vitalik's post on blockchain voting</a>. For a general overview, brief history, and context on the importance of MACI, check out the <a href="https://maci.pse.dev/blog/maci-1-0-release">Release Announcement: MACI 1.0</a> by Wei Jie, one of the creators. He also created a helpful <a href="https://www.youtube.com/watch?v=sKuNj_IQVYI" target="_blank" rel="noopener noreferrer">overview of MACI video</a>. Kyle Charbonnet wrote a great <a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction">Technical Introduction to MACI 1.0</a> that provides a walkthrough on how MACI operates. I also recently presented an <a href="https://app.streameth.org/zuzalu/zuconnect_hackathon/session/maci_workshop" target="_blank" rel="noopener noreferrer">introduction to MACI</a> at Devconnect 2023.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="maci-vision">MACI Vision<a href="https://maci.pse.dev/blog/2024-team-roadmap#maci-vision" class="hash-link" aria-label="Direct link to MACI Vision" title="Direct link to MACI Vision">​</a></h3>
<p>MACI is a public good that is quickly becoming a core piece of infrastructure for Ethereum-based applications to support on-chain voting while protecting user privacy.</p>
<p><strong>Our MACI team’s vision is to build the most secure e-voting solution in the world.</strong></p>
<p>Let's hop in to our updates to see how we plan to execute on this bold vision.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="project-updates">Project updates<a href="https://maci.pse.dev/blog/2024-team-roadmap#project-updates" class="hash-link" aria-label="Direct link to Project updates" title="Direct link to Project updates">​</a></h2>
<p>New year, new team, new roadmap!</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="1-new-team">1) New team<a href="https://maci.pse.dev/blog/2024-team-roadmap#1-new-team" class="hash-link" aria-label="Direct link to 1) New team" title="Direct link to 1) New team">​</a></h3>
<p>Over the past few months we've undergone a lot of changes within MACI's core team. I'd like to take this chance to introduce and welcome our new core members!</p>
<p>MACI is now maintained and will be continuously be improved by our core team, which consists of:</p>
<ul>
<li><a href="https://github.com/ctrlc03" target="_blank" rel="noopener noreferrer">ctrlc03</a></li>
<li><a href="https://github.com/samajammin" target="_blank" rel="noopener noreferrer">Sam Richards</a></li>
<li><a href="https://github.com/0xmad" target="_blank" rel="noopener noreferrer">0xmad</a></li>
<li><a href="https://github.com/kittybest" target="_blank" rel="noopener noreferrer">kittybest</a></li>
<li><a href="https://github.com/crisgarner" target="_blank" rel="noopener noreferrer">crisgarner</a></li>
<li><a href="https://github.com/aguzmant103" target="_blank" rel="noopener noreferrer">aguzmant103</a></li>
<li><a href="https://github.com/Vee-18" target="_blank" rel="noopener noreferrer">Vee</a></li>
</ul>
<p>Now is a great time to mention that <strong>we stand on the shoulders of giants</strong>. Many gigabrains have made heroic advancements in this project - a big "thank you" to all those who have contributed to date! There are too many people to list here, but calling out a few notable players:</p>
<ul>
<li>Vitalik, Barry, Wei Jei for the original idea, architecture, initial implementation, and ongoing guidance</li>
<li>Recent team members that helped launched our <a href="https://maci.pse.dev/blog/maci-v1-1-1-release">v1.1.1 release</a> and have since moved on: Q, Jei, Chao, and Daehyun</li>
</ul>
<p>We're excited to carry the baton forward to bring the vision of MACI to reality!</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="2-new-roadmap">2) New roadmap<a href="https://maci.pse.dev/blog/2024-team-roadmap#2-new-roadmap" class="hash-link" aria-label="Direct link to 2) New roadmap" title="Direct link to 2) New roadmap">​</a></h3>
<p>As a team building in the open source space, we're taking a concerted effort to make our work more accessible and to foster more collaboration and feedback from our community. As part of this work, we're making our core team's roadmap public and will continue to do so.</p>
<p><a href="https://maci.pse.dev/roadmap">Read our full 2024 roadmap here</a>.</p>
<p>TL;DR: We'll be focusing most of our time on:</p>
<ol>
<li><strong>Developer experience</strong> (documentation, tooling, refactoring) so that MACI is easier for projects to integrate and use</li>
<li><strong>Community engagement</strong> (integration support, hackathon bounties, conference presentations) to more quickly iterate and improve based off feedback</li>
<li><a href="https://qf.pse.dev/" target="_blank" rel="noopener noreferrer"><strong>Quadratic Funding Experiments</strong></a> to advance real-world adoption of this technology</li>
</ol>
<p>We're happy to share that these efforts are already underway. We expect to release a new and improved version of MACI within the next month. We're exploring MACI integrations and are in discussions with projects including <a href="https://www.gitcoin.co/grants-stack" target="_blank" rel="noopener noreferrer">Gitcoin Grants Stack</a> and <a href="https://community.optimism.io/docs/governance/retropgf-3/#" target="_blank" rel="noopener noreferrer">Optimism RetroPFG</a> on how MACI could provide collusion resistance to those systems. Major shoutout to <a href="https://clr.fund/#/" target="_blank" rel="noopener noreferrer">clr.fund</a> (who became the first production project to integrate MACI back in 2020)! We're actively working with clr.fund to help them upgrade their stack to the latest version of MACI. Expect to see announcements of upcoming MACI-enabled quadratic funding rounds soon!</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="3-new-documentation">3) New documentation<a href="https://maci.pse.dev/blog/2024-team-roadmap#3-new-documentation" class="hash-link" aria-label="Direct link to 3) New documentation" title="Direct link to 3) New documentation">​</a></h3>
<p>MACI now has a fresh new website, with <a href="https://maci.pse.dev/docs/introduction">revamped documentation</a>!</p>
<p>We immediately recognized the need for improved educational content about MACI, as it's a complex project with several core components (ZK circuits, Ethereum smart contracts, TypeScript libraries). Whether you're a developer looking to integrate MACI into your application, an open-source developer interested in contributing, or a product manager seeking to understand the high-level mechanics of MACI, we want to hear from you in order to continuously improve your onboarding experience.</p>
<p><a href="https://maci.pse.dev/docs/introduction">Please take a look and let us know what you think</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="4-new-community-access">4) New community access<a href="https://maci.pse.dev/blog/2024-team-roadmap#4-new-community-access" class="hash-link" aria-label="Direct link to 4) New community access" title="Direct link to 4) New community access">​</a></h3>
<p>Whether you're interested in contributing to MACI or looking to stay up-to-date on the latest happenings, it's now much easier to stay connected with us and the community. Here are some ways you can keep in touch:</p>
<ul>
<li><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer">GitHub</a>: open an issue or PR or <a href="https://github.com/privacy-scaling-explorations/maci/discussions" target="_blank" rel="noopener noreferrer">join our discussions</a></li>
<li><a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer">Discord</a>: join the <a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer">PSE server</a> and hop in the <code>#🗳️-maci</code>&nbsp;channel to chat with our core team</li>
<li><a href="https://twitter.com/zkmaci" target="_blank" rel="noopener noreferrer">Twitter/X</a>: follow our new handle <a href="https://twitter.com/zkmaci" target="_blank" rel="noopener noreferrer">@zkMACI</a> for updates or to hit us up with feedback</li>
<li>This website: we'll continue to post updates here (at least 1 blog post every quarter, we promise 🤞)!</li>
</ul>
<p>Expect to see announcements around new MACI releases, integrations, event participation (quadratic funding rounds, conferences, hackathons), and grant RFPs.</p>
<p>We look forward to collaborating closely with our open source community this year!</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="how-does-that-sound">How does that sound?<a href="https://maci.pse.dev/blog/2024-team-roadmap#how-does-that-sound" class="hash-link" aria-label="Direct link to How does that sound?" title="Direct link to How does that sound?">​</a></h2>
<p>Questions? Concerns? Ideas? We’d love to hear from you!</p>
<p>If there is a feature you think we should work on, or an initiative you'd like to collaborate with us on, please let us know! We welcome input from anyone in the community.</p>
<p>Onward and upward 🚀</p>]]></content>
        <author>
            <name>Sam Richards</name>
            <uri>https://x.com/samonchain</uri>
        </author>
        <category label="maci" term="maci"/>
        <category label="roadmap" term="roadmap"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MACI v1.1.1 Release]]></title>
        <id>https://maci.pse.dev/blog/maci-v1-1-1-release</id>
        <link href="https://maci.pse.dev/blog/maci-v1-1-1-release"/>
        <updated>2023-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are pleased to announce the release of an updated version of MACI - Minimal Anti-Collusion Infrastructure v1.1.1.]]></summary>
        <content type="html"><![CDATA[<p>We are pleased to announce the release of an updated version of MACI - Minimal Anti-Collusion Infrastructure v1.1.1.</p>
<p>This new release brings a more secure product, new features, and a much needed documentation refresh. Before we dive into the updates, let's refresh your memory on what MACI is and what it was created to achieve.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="background">Background<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>MACI is an application that provides collusion resistance for on-chain voting processes. It was originally created after Vitalik's <a href="https://ethresear.ch/t/minimal-anti-collusion-infrastructure/5413" target="_blank" rel="noopener noreferrer">post</a>, and has since been revisited and improved.</p>
<p>MACI revolves around the need for a trusted coordinator. The coordinator is in charge of setting up the system, publishing its public key, and computing the tally of the votes. Below are the main properties of MACI:</p>
<table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>Collusion Resistance</td><td>No one except a trusted coordinator should be certain of the validity of a vote, reducing the effectiveness of bribery.</td></tr><tr><td>Receipt-freeness</td><td>No one can prove (besides to the coordinator) which way they voted.</td></tr><tr><td>Privacy</td><td>No one except a trusted coordinator should be able to decrypt a vote.</td></tr><tr><td>Uncensorability</td><td>No one — not even the trusted coordinator, should be able to censor a vote.</td></tr><tr><td>Unforgeability</td><td>Only the owner of a user's private key may cast a vote tied to its corresponding public key.</td></tr><tr><td>Non-repudiation</td><td>No one may modify or delete a vote after it is cast, although a user may cast another vote to nullify it.</td></tr><tr><td>Correct execution</td><td>No one, not even the trusted coordinator, should be able to produce a false tally of votes.</td></tr></tbody></table>
<p>Since its inception, MACI has been adopted by different projects, most notably <a href="https://github.com/clrfund" target="_blank" rel="noopener noreferrer">clr.fund</a> and <a href="https://github.com/quadratic-funding/qfi/tree/feat/code-freeze" target="_blank" rel="noopener noreferrer">QFI</a>. These projects prove how effective MACI can be, especially when integrated with applications that are otherwise prone to collusion, such as funding Public Goods.</p>
<p>For a more detailed description of MACI, please refer to the <a href="https://medium.com/privacy-scaling-explorations/a-technical-introduction-to-maci-1-0-db95c3a9439a" target="_blank" rel="noopener noreferrer">v1 technical introduction article</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="security-audit">Security Audit<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#security-audit" class="hash-link" aria-label="Direct link to Security Audit" title="Direct link to Security Audit">​</a></h2>
<p>MACI was <a href="https://maci.pse.dev/assets/files/202220930_Hashcloak_audit_report-14721b7c4e340998f118116825f611e0.pdf" target="_blank">audited</a> by HashCloack in the summer of 2022. The audit team discovered certain high risk vulnerabilities, whose fixes were the focus of the MACI team in the past months.</p>
<p>In more details, the audit revealed two high risk issues within the zk-SNARK circuits:</p>
<ul>
<li>Incomplete validation when processing messages</li>
<li>Integer overflow which could have allowed users to affect a coordinator's effort of calculating the subsidy by either making it incorrect or by intercepting the calculation</li>
</ul>
<p>Another notable security issue was the lack of initialization of the <code>AccQueue</code> contract. This contract is used to store messages (votes or topups) for the different polls. Without inserting a zero value hash into the merkle tree contract as the first message during initialization, a malicious user could have performed a denial of service attack on a poll. This could have resulted in the poll results taking a very long time before being tallied by the coordinator.</p>
<p>All of these issues have been successfully resolved, on top of fixing minor issues and general code optimizations. The updated product uses a more up to date and secure version of Solidity, and more thorough test cases to verify the correctness of the solution.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="new-features">New Features<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2>
<table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://hackmd.io/@chaosma/rkyPfI7Iq" target="_blank" rel="noopener noreferrer">Top Up Credit</a></td><td>Users can now top up credits rather than having to sign up with a different MACI key</td></tr><tr><td><a href="https://ethresear.ch/t/pairwise-coordination-subsidies-a-new-quadratic-funding-design/5553" target="_blank" rel="noopener noreferrer">Pairwise Subsidy</a></td><td>Enhanced protection against collusion in quadratic funding</td></tr><tr><td><a href="https://github.com/privacy-scaling-explorations/maci/tree/v1.1.1/server" target="_blank" rel="noopener noreferrer">Coordinator Service</a></td><td>Sample coordinator server for easier MACI use</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="top-up-credit">Top Up Credit<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#top-up-credit" class="hash-link" aria-label="Direct link to Top Up Credit" title="Direct link to Top Up Credit">​</a></h3>
<p>Rather than requiring a user to sign up multiple times, it is now possible to top up voice credits by sending a top up message on the Poll contract. Withdrawals are not enabled as this would allow a malicious user to bribe others offline to transfer their keys.</p>
<p>Now, the Poll contract will hold all the funds deposited from users for the current poll. At the end of a poll, the coordinator can transfer the funds to a hardcoded address which can be used to fund public goods.</p>
<p>When a user deposits tokens by calling topup, they will also need to specify the stateTree index. The topup function will insert a topup message into the message queue for them. When the voting period ends, any call of topup function will be rejected. Both voting and topup messages have the same ending time, which ensures there is a well-defined ending state for each poll.</p>
<p>Please note that in this approach, the initial credit is still shared across multiple polls, and the actual credit an user can spend in a given poll is the following: <code>totalCredit=initialCredit+topupCredit</code> where the <code>topupCredit</code> is the voice credit amount deposited by the user during the voting period of the given pollID.</p>
<p>For a detailed description, please refer to this <a href="https://hackmd.io/@chaosma/rkyPfI7Iq" target="_blank" rel="noopener noreferrer">document</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="pairwise-subsidy">Pairwise Subsidy<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#pairwise-subsidy" class="hash-link" aria-label="Direct link to Pairwise Subsidy" title="Direct link to Pairwise Subsidy">​</a></h3>
<p>Pairwise subsidy is a new way to reduce collusion in quadratic funding applications. If two contributors collude with each other, they can extract most of the public funding pool if they have enough funds.</p>
<p>In this <a href="https://ethresear.ch/t/pairwise-coordination-subsidies-a-new-quadratic-funding-design/5553" target="_blank" rel="noopener noreferrer">post</a>, Vitalik introduced this kind of collusion and also proposed a protocol to penalize this behavior. As a generalized solution, the more correlation between contributions, the smaller subsidy should be allocated to this project, as this reduces the risk of collusion between contributors. It should be noted that this solution assumes that an identity system is in place to prevent the same entity from registering with two different identities.</p>
<p>Please refer to this <a href="https://hackmd.io/@chaosma/H1_9xmT2K" target="_blank" rel="noopener noreferrer">post</a> for a more detailed explanation of the implementation.</p>
<p>Finally, please note that currently it is not possible to generate the <code>zkeys</code> for the subsidy circuit with with the <code>vote options</code> parameter larger than $5^2$. This issue is documented <a href="https://github.com/privacy-scaling-explorations/maci/issues/584" target="_blank" rel="noopener noreferrer">here</a> and the team will focus on finding a solution to be able to support larger vote options.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="coordinator-service">Coordinator Service<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#coordinator-service" class="hash-link" aria-label="Direct link to Coordinator Service" title="Direct link to Coordinator Service">​</a></h3>
<p>MACI now includes a sample <a href="https://github.com/privacy-scaling-explorations/maci/tree/v1.1.1/server" target="_blank" rel="noopener noreferrer">coordinator service</a>.</p>
<p>There are two roles in the coordinator service: admin (i.e. MACI coordinator) and user (i.e. a voter). The admin's responsibility is to ensure that the code remains updated and that the backend services are live. The user can then simply send HTTP requests to the backend server to interact with MACI, for instance, by signing up and publishing a message on chain.</p>
<p>The coordinator service has been wrapped into two docker instances: one for the backend server to accept user requests; one for the Mongodb service to store all necessary information on the current state such as smart contract addresses, zero knowledge proof keys and so on.</p>
<p>For further reading on coordinator services, please refer to this <a href="https://hackmd.io/@chaosma/SJtsfzKnF" target="_blank" rel="noopener noreferrer">doc</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="how-to-use-maci">How to use MACI<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#how-to-use-maci" class="hash-link" aria-label="Direct link to How to use MACI" title="Direct link to How to use MACI">​</a></h2>
<p>MACI can be used as a standalone application to carry out on-chain polls, or be implemented into new projects that can then benefit from its properties.</p>
<p>For use as a standalone application, a <code>cli</code> package is provided which allows coordinators and voters to use MACI. Please refer to this <a href="https://maci.pse.dev/docs/cli">doc</a> for details on how to use it.</p>
<p>To implement MACI into a project, the <a href="https://maci.pse.dev/docs/introduction">documentation</a> can be used a reference, as well as reviewing how <a href="https://github.com/clrfund" target="_blank" rel="noopener noreferrer">clr.fund</a> and <a href="https://github.com/privacy-scaling-explorations/qf" target="_blank" rel="noopener noreferrer">qf</a> use MACI in their code.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="maci-0x">MACI 0.x<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#maci-0x" class="hash-link" aria-label="Direct link to MACI 0.x" title="Direct link to MACI 0.x">​</a></h2>
<p>MACI version 0.x will be discontinued. MACI 1.x has feature parity, more robust code and newest features. Users are encouraged to use the latest version. Starting February 7, 2023, the team will focus solely on resolving issues for MACI 1.x, and will cease to provide support for version 0.x.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="how-to-get-involved">How to get involved<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#how-to-get-involved" class="hash-link" aria-label="Direct link to How to get involved" title="Direct link to How to get involved">​</a></h2>
<p>Should you wish to get involved with MACI or simply report a bug, feel free to visit the <a href="https://github.com/privacy-scaling-explorations/maci/tree/v1.1.1" target="_blank" rel="noopener noreferrer">repository</a> and open an issue, or comment under an open issue to notify the team of your intention to work on it.</p>
<p>For any other enquiry, please reach out to us via the Privacy and Scaling Explorations (PSE) <a href="https://discord.gg/bTdZfpc69U" target="_blank" rel="noopener noreferrer">Discord</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="references">References<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://github.com/privacy-scaling-explorations/maci/tree/v1.1.1" target="_blank" rel="noopener noreferrer">MACI GitHub repository</a></li>
<li><a href="https://medium.com/privacy-scaling-explorations/a-technical-introduction-to-maci-1-0-db95c3a9439a" target="_blank" rel="noopener noreferrer">A technical introduction to MACI 1.0 - Kyle Charbonnet</a></li>
<li><a href="https://ethresear.ch/t/minimal-anti-collusion-infrastructure/5413" target="_blank" rel="noopener noreferrer">Minimal anti-collusion infrastructure - Vitalik</a></li>
<li><a href="https://ethresear.ch/t/pairwise-coordination-subsidies-a-new-quadratic-funding-design/5553" target="_blank" rel="noopener noreferrer">Pairwise Subsidy</a></li>
<li><a href="https://github.com/privacy-scaling-explorations/maci/blob/v1/audit/202220930_Hashcloak_audit_report.pdf" target="_blank" rel="noopener noreferrer">Security Audit</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="release">Release<a href="https://maci.pse.dev/blog/maci-v1-1-1-release#release" class="hash-link" aria-label="Direct link to Release" title="Direct link to Release">​</a></h2>
<p>Here is a link to the new release code in GitHub - <a href="https://github.com/privacy-scaling-explorations/maci/releases/tag/v1.1.1" target="_blank" rel="noopener noreferrer">v1.1.1 Release</a>.</p>]]></content>
        <author>
            <name>ctrlc03 &amp; chao</name>
            <uri>https://pse.dev</uri>
        </author>
        <category label="zk" term="zk"/>
        <category label="maci" term="maci"/>
        <category label="release" term="release"/>
        <category label="voting" term="voting"/>
        <category label="security" term="security"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[A Technical Introduction to MACI 1.0]]></title>
        <id>https://maci.pse.dev/blog/maci-1-0-technical-introduction</id>
        <link href="https://maci.pse.dev/blog/maci-1-0-technical-introduction"/>
        <updated>2022-09-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_I2WF" id="introduction">Introduction<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>MACI, which stands for Minimal Anti-Collusion Infrastructure, is an application that allows users to have an on-chain voting process with greatly increased collusion resistance. A common problem among today’s on-chain voting processes is how easy it is to bribe voters into voting for a particular option. Oftentimes this bribery takes the form of “join our pool (vote our way) and we will give you a cut of the rewards (the bribe)”. Since all transactions on the blockchain are public, without MACI, voters can easily prove to the briber which option they voted for and therefore receive the bribe rewards.</p>
<p>MACI counters this by using zk-SNARKs to essentially hide how each person voted while still revealing the final vote result. User’s cannot prove which option they voted for, and therefore bribers cannot reliably trust that a user voted for their preferred option. For example, a voter can tell a briber that they are voting for option A, but in reality they voted for option B. There is no reliable way to prove which option the voter actually voted for, so the briber does not have the incentive to pay voters to vote their way.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="background">Background<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>For a general overview, the history and the importance of MACI, see Release Announcement: MACI 1.0 by Wei Jie, one of the creators. He also created a very helpful youtube video on the overview of MACI. To see the origin of the idea of MACI, see Vitalik’s research post on Minimal Anti-Collusion Infrastructure. Lastly, it is recommended to understand the basic idea behind zk-SNARKs, as these are a core component of MACI. The following articles are great resources:</p>
<ul>
<li>Introduction to zk-SNARKs — Consensys</li>
<li>What are zk-SNARKs — Zcash</li>
<li>An approximate introduction to how zk-SNARKs are possible — Vitalik</li>
<li>zkSNARKs in a nutshell — Ethereum.org</li>
</ul>
<p>This article will go over the general workflow of MACI and how it is capable of providing the following tenets (taken word for word from Wei Jie’s article):</p>
<ul>
<li>Collusion Resistance: No one except a trusted coordinator should be certain of the validity of a vote, reducing the effectiveness of bribery</li>
<li>Receipt-freeness: No voter may prove (besides to the coordinator) which way they voted</li>
<li>Privacy: No one except a trusted coordinator should be able to decrypt a vote</li>
<li>Uncensorability: No one (not even the trusted coordinator) should be able to censor a vote</li>
<li>Unforgeability: Only the owner of a user’s private key may cast a vote tied to its corresponding public key</li>
<li>Non-repudiation: No one may modify or delete a vote after it is cast, although a user may cast another vote to nullify it</li>
<li>Correct execution: No one (not even the trusted coordinator) should be able to produce a false tally of votes</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="system-overview">System Overview<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#system-overview" class="hash-link" aria-label="Direct link to System Overview" title="Direct link to System Overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="roles">Roles<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h3>
<p>In the MACI workflow, there are two different roles: users (voters) and a single trusted coordinator. The users vote on the blockchain via MACI smart contracts, and the coordinator tallies up the votes and releases the final results.</p>
<p>The coordinators must use zk-SNARKs to prove that their final tally result is valid without releasing the vote of every individual. Therefore, even if a coordinator is corrupt, they are unable to change a user’s vote or add extra votes themselves. A corrupt coordinator can stop a vote by never publishing the results, but they can’t publish false results.</p>
<p>Before sending their vote on the blockchain, users encrypt their vote using a shared key that only the user and coordinator can know. This key scheme is designed so that every individual user shares a distinct key with the coordinator. This prevents any bribers from simply reading the transaction data to see which option a user voted for. The encrypted vote is now considered a “message” and the user sends this message to a MACI smart contract to be stored on-chain.</p>
<p>A very simplified illustration of this encryption can be seen below:</p>
<p><img decoding="async" loading="lazy" alt="Posting a Message" src="https://maci.pse.dev/assets/images/MACI_Simple_Message-1710b449c221903f868570d29a52a24b.png" width="1040" height="560" class="img_aEan"></p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="vote-overriding-and-public-key-switching">Vote Overriding and Public Key Switching<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#vote-overriding-and-public-key-switching" class="hash-link" aria-label="Direct link to Vote Overriding and Public Key Switching" title="Direct link to Vote Overriding and Public Key Switching">​</a></h3>
<p>Before a user can cast a vote, they must sign up by sending the public key they wish to use to vote to a MACI smart contract. This public key acts as their identity when voting. They can vote from any address, but their message must contain a signature from that public key. When casting an actual vote after signing up, a user will bundle a few variables — including a public key, their vote option, their vote amount, and a few others — into what is called a “command”. Then, the user signs the command with the public key they originally used to sign up. After that, the user encrypts the signature and command together so that it is now considered a message. This more complex description of how a message is constructed is illustrated below:</p>
<p><img decoding="async" loading="lazy" alt="Complex Message" src="https://maci.pse.dev/assets/images/MACI_Complex_Message-d449b3bccc2ba2dc5920ebadd976ef70.png" width="860" height="820" class="img_aEan"></p>
<p>Users are able to override their previous vote as long as they sign their command with the previous public key. If the command is properly signed by the user’s previous public key, then the message is considered valid and the coordinator will count this as the correct vote. So, when a user provides a public key in their vote that is different than their previous public key, they may now submit a new vote signed by this new public key to override their previous vote. If the signature is not from the previous public key, the message will be marked as invalid and not counted toward the tally. Therefore, the public key can be thought of as the user’s voting username, and the signature is the voting password. If they provide the correct signature, they can submit a vote or change their public key — or both.</p>
<p>This feature, which I refer to as public key switching, is designed to counter the bribery attack where a user simply shows the briber their message, and then decrypts it for the briber to see which way the user voted. Public key switching allows users to change their public key and create invalid messages in favor of the bribers. The bribers have no way of telling if the user switched their public keys before sending in the vote shown to the bribers.</p>
<p>This can be quite confusing so here is an example:</p>
<ol>
<li>Bob signs up with public key 1</li>
<li>Bob then creates a command that contains — a vote for option A and public key 2</li>
<li>Bob signs this command with public key 1, the key he used to sign up</li>
<li>Bob encrypts this command into a message and submits it to the MACI smart contracts</li>
<li>The coordinator decrypts this message, and checks to ensure that the command is signed by Bob’s previous key — public key 1. This message is valid.</li>
<li>The coordinator then records Bob’s vote for option A and updates his public key to public key 2</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Signup 1" src="https://maci.pse.dev/assets/images/MACI_Bob_SignUp_1-6f8ca29ab045d7800f9ab827f9736ebe.png" width="1337" height="744" class="img_aEan"></p>
<p>At this point, Bob has successfully voted for option A, and in order to override this vote must send in a new vote with a signature from public key 2. At this point, a briber now tries to get Bob to vote for option B:</p>
<ol>
<li>Bob creates a command that contains — a vote for option B and public key 1</li>
<li>Bob signs this command with public key 1, encrypts the message and submits it to the MACI smart contracts</li>
<li>Bob shows the briber the decrypted message as proof of his vote for option B</li>
<li>The coordinator decrypts Bob’s message and sees that the signature does not match up with public key 2 — Bob’s previous key added in his previous message. Therefore this message is invalid and this vote is not counted in the final tally.</li>
<li>The briber has no way of knowing whether the vote was valid or invalid, and so is not incentivized to offer bribes to other users.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Signup 2" src="https://maci.pse.dev/assets/images/MACI_Bob_SignUp_2-e65ab81b9056a282a46873a53476d082.png" width="2940" height="1462" class="img_aEan"></p>
<p>In order to get a good idea of how MACI works, it’s important to know how the zk-SNARKs are able to prove that the coordinator decrypted each message and tallied the votes properly. The next section gives a quick and much oversimplified overview of zk-SNARKs, although the readings listed in the introduction are much more helpful.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="zk-snarks">zk-SNARKs<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#zk-snarks" class="hash-link" aria-label="Direct link to zk-SNARKs" title="Direct link to zk-SNARKs">​</a></h3>
<p>Essentially, zk-SNARKs allow users to prove they know an answer to a specific mathematical equation, without revealing what that answer is. Take the following equation for example,</p>
<blockquote>
<p>X + Y = 15</p>
</blockquote>
<p>I can prove that I know 2 values, X and Y that satisfy the equation without revealing what those two values are. When I create a zk-SNARK for my answer, anyone can use the SNARK (a group of numbers) and validate it against the equation above to prove that I do know a solution to that equation. The user is unable to use the SNARK to find out my answers for X and Y.</p>
<p>For MACI, the equation is much more complicated but can be summarized as the following equations:</p>
<blockquote>
<p>encrypt(command1) = message1<br>
<!-- -->encrypt(command2) = message2<br>
<!-- -->encrypt(command3) = message3<br>
<!-- -->…<br>
<!-- -->Command1 from user1 + command2 from user2 + command3 from user3 + … = total tally result</p>
</blockquote>
<p>Here, everyone is able to see the messages on the blockchain and the total tally result. Only the coordinator knows what the individual commands/votes are by decrypting the messages. So, the coordinator uses a zk-SNARK to prove they know all of the votes that:</p>
<ol>
<li>Encrypt to the messages present on the blockchain</li>
<li>Sum to the tally result
Users can then use the SNARK to prove that the tally result is correct, but cannot use it to prove any individual’s vote choices.</li>
</ol>
<p>Now that the core components of MACI have been covered, it is helpful to dive deeper into the MACI workflow and specific smart contracts.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="workflow">Workflow<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#workflow" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h2>
<p>The general workflow process can be broken down into 4 different phases:</p>
<ol>
<li>Sign Up</li>
<li>Publish Message</li>
<li>Process Messages</li>
<li>Tally Results</li>
</ol>
<p>These phases make use of 3 main smart contracts — MACI, Poll and ​​PollProcessorAndTallyer. These contracts can be found on the MACI github page. The MACI contract is responsible for keeping track of all the user signups by recording the initial public key for each user. When a vote is going to take place, users can deploy a Poll smart contract via MACI.deployPoll().</p>
<p>The Poll smart contract is where users submit their messages. One MACI contract can be used for multiple polls. In other words, the users that signed up to the MACI contract can vote on multiple issues, with each issue represented by a distinct Poll contract.</p>
<p>Finally, the PollProcessorAndTallyer contract is used by the coordinator to prove on-chain that they are correctly tallying each vote. This process is explained in more detail in the Process Messages and Tally Results sections below.</p>
<p><img decoding="async" loading="lazy" alt="MACI Workflow" src="https://maci.pse.dev/assets/images/MACI_Contracts-48ece9d758b096623f02b0195e29aaf2.png" width="1100" height="575" class="img_aEan"></p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="sign-up">Sign Up<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#sign-up" class="hash-link" aria-label="Direct link to Sign Up" title="Direct link to Sign Up">​</a></h3>
<p>The sign up process for MACI is handled via the MACI.sol smart contract. Users need to send three pieces of information when calling MACI.signUp():</p>
<ol>
<li>Public Key</li>
<li>Sign Up Gatekeeper Data</li>
<li>Initial Voice Credit Proxy Data</li>
</ol>
<p>The public key is the original public key mentioned in above sections that the user will need to vote. As explained in earlier sections, they can change this public key later once voting starts. The user’s public key used to sign up is shared amongst every poll.</p>
<p>MACI allows the contract creator/owner to set a “signUpGateKeeper”. The sign up gatekeeper is meant to be the address of another smart contract that determines the rules to sign up. So, when a user calls MACI.signUp(), the function will call the sign up gatekeeper to check if this user is valid to sign up.</p>
<p>MACI also allows the contract creator/owner to set an “initialVoiceCreditProxy”. This represents the contract that determines how many votes a given user gets. So, when a user calls MACI.signUp(), the function will call the initial voice credit proxy to check how many votes they can spend. The user’s voice credit balance is reset to this number for every new poll.</p>
<p>Once MACI has checked that the user is valid and retrieved how many voice credits they have, MACI stores the following user info into the Sign Up Merkle Tree:</p>
<ol>
<li>Public Key</li>
<li>Voice Credits</li>
<li>Timestamp</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Signup" src="https://maci.pse.dev/assets/images/MACI_Sign_Up-2d181cded45b3811feaa0db16b4388ad.png" width="1220" height="740" class="img_aEan"></p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="publish-message">Publish Message<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#publish-message" class="hash-link" aria-label="Direct link to Publish Message" title="Direct link to Publish Message">​</a></h3>
<p>Once it is time to vote, the MACI creator/owner will deploy a Poll smart contract. Then, users will call Poll.publishMessage() and send the following data:</p>
<ol>
<li>Message</li>
<li>Encryption Key</li>
</ol>
<p>As explained in sections above, the coordinator will need to use the encryption key in order to derive a shared key. The coordinator can then use the shared key to decrypt the message into a command, which contains the vote.</p>
<p>Once a user publishes their message, the Poll contract will store the message and encryption key into the Message Merkle Tree.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="process-messages">Process Messages<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#process-messages" class="hash-link" aria-label="Direct link to Process Messages" title="Direct link to Process Messages">​</a></h3>
<p>Once the voting is done for a specific poll, the coordinator will use the PollProcessAndTallyer contract to first prove that they have correctly decrypted each message and applied them to correctly create an updated state tree. This state tree keeps an account of all the valid votes that should be counted. So, when processing the messages, the coordinator will not keep messages that are later overridden by a newer message inside the state tree. For example, if a user votes for option A, but then later sends a new message to vote for option B, the coordinator will only count the vote for option B.</p>
<p>The coordinator must process messages in groups so that proving on chain does not exceed the data limit. The coordinator then creates a zk-SNARK proving their state tree correctly contains only the valid messages. Once the proof is ready, the coordinator calls PollProcessorAndTallyer.processMessages(), providing a hash of the state tree and the zk-SNARK proof as an input parameters.</p>
<p>The PollProcessorAndTallyer contract will send the proof to a separate verifier contract. The verifier contract is specifically built to read MACI zk-SNARK proofs and tell if they are valid or not. So, if the verifier contract returns true, then everyone can see on-chain that the coordinator correctly processed that batch of messages. The coordinator repeats this process until all messages have been processed.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="tally-votes">Tally Votes<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#tally-votes" class="hash-link" aria-label="Direct link to Tally Votes" title="Direct link to Tally Votes">​</a></h3>
<p>Finally, once all messages have been processed, the coordinator tallies the votes of the valid messages. The coordinator creates a zk-SNARK proving that the valid messages in the state tree (proved in Process Messages step) contain votes that sum to the given tally result. Then, they call PollProcessorAndTallyer.tallyVotes() with a hash of the correct tally results and the zk-SNARK proof. Similarly to the processMessages function, the tallyVotes function will send the proof to a verifier contract to ensure that it is valid.</p>
<p>The tallyVotes function is only successful if the verifier contract returns that the proof is valid. Therefore, once the tallyVotes function succeeds, users can trust that the coordinator has correctly tallied all of the valid votes. After this step, anyone can see the final tally results and the proof that these results are a correct result of the messages sent to the Poll contract. The users won’t be able to see how any individual voted, but will be able to trust that these votes were properly processed and counted.</p>
<p><img decoding="async" loading="lazy" alt="Tally" src="https://maci.pse.dev/assets/images/MACI_Verifier_1-a65417ccac284c2f27c698dd2b7030b9.png" width="1180" height="470" class="img_aEan"></p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="conclusion">Conclusion<a href="https://maci.pse.dev/blog/maci-1-0-technical-introduction#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>MACI is a huge step forward in preventing collusion for on-chain votes. While it doesn’t prevent all possibilities of collusion, it does make it much harder. MACI can already be seen to be in use by the clr.fund, which has users vote on which projects to receive funding. When the possible funding amount becomes very large, users and organizations have a large incentive to collude to receive parts of these funds. This is where MACI can truly make a difference, to protect the fairness of such important voting processes such as those at clr.fund.</p>]]></content>
        <author>
            <name>Kyle Charbonnet</name>
            <uri>https://github.com/kcharbo3</uri>
        </author>
        <category label="zk" term="zk"/>
        <category label="maci" term="maci"/>
        <category label="release" term="release"/>
        <category label="voting" term="voting"/>
        <category label="security" term="security"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MACI 1.0 Release]]></title>
        <id>https://maci.pse.dev/blog/maci-1-0-release</id>
        <link href="https://maci.pse.dev/blog/maci-1-0-release"/>
        <updated>2021-10-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The Privacy & Scaling Explorations team is proud to release version 1.0 of Minimal Anti-Collusion Infrastructure (MACI). MACI enables collusion resistance for decentralised applications, particularly voting and quadratic funding systems. This release is a major upgrade to the project and provides better developer experience and gas savings for users.]]></summary>
        <content type="html"><![CDATA[<p>The Privacy &amp; Scaling Explorations team is proud to release version 1.0 of Minimal Anti-Collusion Infrastructure (MACI). MACI enables collusion resistance for decentralised applications, particularly voting and quadratic funding systems. This release is a major upgrade to the project and provides better developer experience and gas savings for users.</p>
<p>The code is in the v1 branch of the appliedzkp/macirepository and will be merged soon.</p>
<p>MACI 1.0 was audited by Hashcloak. All vulnerabilities found have been fixed. The audit report can be found here. We would like to thank our highly professional and responsive auditors for surfacing these issues and providing clear feedback for addressing them.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="about-maci">About MACI<a href="https://maci.pse.dev/blog/maci-1-0-release#about-maci" class="hash-link" aria-label="Direct link to About MACI" title="Direct link to About MACI">​</a></h2>
<p>MACI is a set of smart contracts and zero-knowledge circuits upon which which developers can build collusion-resistant applications, such as voting systems or quadratic funding platforms. MACI per se is not a user-facing application. Rather, developers may build applications on top of it. In turn, such applications can benefit from the following properties:</p>
<ul>
<li>Collusion resistance: no-one, except a trusted coordinator, can be convinced of the validity of a vote, reducing the effectiveness of bribery.</li>
<li>Receipt-freeness: a voter cannot prove, besides to the coordinator, which way they voted.</li>
<li>Privacy: no-one, except a trusted coordinator, should be able to decrypt a vote.</li>
<li>Uncensorability: no-one, not even the trusted coordinator, should be able to censor a vote.</li>
<li>Unforgeability: only the owner of a user’s private key may cast a vote tied to its corresponding public key.</li>
<li>Non-repudiation: no-one may modify or delete a vote after it is cast, although a user may cast another vote to nullify it.</li>
<li>Correct execution: no-one, not even the trusted coordinator, should be able to produce a false tally of votes.</li>
</ul>
<p>Practically speaking, MACI provides a set of Typescript packages, Ethereum smart contracts and zero-knowledge circuits. It inherits security and uncensorability from the underlying Ethereum blockchain, ensures unforgeability via asymmetric encryption, and achieves collusion resistance, privacy, and correct execution via zk-SNARKs.</p>
<p>Please note that MACI does not and will not have a token. In other words, it does not represent an investment opportunity.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="macis-history">MACI’s history<a href="https://maci.pse.dev/blog/maci-1-0-release#macis-history" class="hash-link" aria-label="Direct link to MACI’s history" title="Direct link to MACI’s history">​</a></h2>
<p>MACI stems from an ethresear.ch post by Vitalik Buterin. Subsequently, the initial codebase was written in late 2019 and early 2020 by grantees with the Ethereum Foundation, namely Kendrick Tan, Koh Wei Jie, and Chih-Cheng Liang. MACI then saw developer adoption at ETHDenver in February 2020, where Auryn Macmillan and others started work on clr.fund, a protocol for the Ethereum community to allocate funds for Ethereum-based public goods.</p>
<p>After the event, we continued to work with clr.fund to improve MACI and integrate it with their application. clr.fund has completed seven rounds of public goods funding, the last of which saw more than US$6000 worth of contributions. At the time of writing, it is currently running an eighth round with more than US$20k in contributions.</p>
<p>Work on version 1.0 started in late 2020 with the goal of reducing the gas and computational requirements, as well as to improve its flexibility and usability, without compromising any of its anti-collusion, security, and trust guarantees. We also took this opportunity to keep up with new techniques, ideas, and tooling from the rapidly advancing Ethereum and zero-knowledge ecosystem.</p>
<p>Finally, in early 2021 we were very fortunate to bring on Cory Dickson to the team. His work on writing documentation, revamping MACI’s integration test suites, working with our auditors to fix bugs, and collaborating with external teams has been invaluable to the project.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="why-is-maci-important">Why is MACI important?<a href="https://maci.pse.dev/blog/maci-1-0-release#why-is-maci-important" class="hash-link" aria-label="Direct link to Why is MACI important?" title="Direct link to Why is MACI important?">​</a></h2>
<p>It is very difficult for naive voting systems, particularly those which are integrated into smart contract platforms, to prevent collusion. For instance, if a simple Ethereum transaction represents a vote, a briber can easily examine its calldata, tell how its sender voted, and reward or punish them accordingly.</p>
<p>More broadly, collusion resistance is particularly important for cryptoeconomic systems. Vitalik Buterin describes the motivations behind MACI in On Collusion. He argues that systems that use cryptoeconomic incentive mechanisms to align participants’ behaviour can be vulnerable to collusion attacks, such as bribery. In another post, he elaborates:</p>
<p>if you can prove how you voted, selling your vote becomes very easy. Provability of votes would also enable forms of coercion where the coercer demands to see some kind of proof of voting for their preferred candidate.</p>
<p>To illustrate this point, consider an alleged example of collusion that occurred in round 6 of Gitcoin grants (a platform for quadratic funding software projects which contribute to public goods). In How to Attack and Defend Quadratic Funding, an author from Gitcoin highlights a tweet by a potential grant beneficiary appeared to offer 0.01 ETH in exchange for matching funds:</p>
<p>They explain the nature of this scheme:</p>
<blockquote>
<p>While creating fake accounts to attract matching funds can be prevented by sybil resistant design, colluders can easily up their game by coordinating a group of real accounts to “mine Gitcoin matching funds” and split the “interest” among the group.</p>
</blockquote>
<p>Finally, MACI is important because as crypto communities are increasingly adopting Decentralised Autonomous Organisations (DAOs) which govern through token voting. The threat of bribery attacks and other forms of collusion will only increase if left unchecked, since such attacks target a fundamental vulnerability of such systems.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="whats-new">What’s new?<a href="https://maci.pse.dev/blog/maci-1-0-release#whats-new" class="hash-link" aria-label="Direct link to What’s new?" title="Direct link to What’s new?">​</a></h2>
<p>In this release, we rearchitected MACI’s smart contracts to allow for greater flexibility and separation of concerns. In particular, we support multiple polls within a single instance of MACI. This allows the coordinator to run and tally many elections either subsequently or concurrently.</p>
<p>We’ve kept the ability for developers to provide their own set of logic to gate-keep signups. For instance, application developers can write custom logic that only allows addresses which own a certain token to sign up once to MACI in order to participate in polls.</p>
<p>An additional upgrade we have implemented is greater capacity for signups, votes, and vote options. With MACI 1.0, a coordinator can run a round that supports more users, votes, and choices than before, even with the same hardware.</p>
<p>We adopted iden3’s tools for faster proof generation. Furthermore, we rewrote our zk-SNARK circuits using the latest versions of snarkjs, circom, and circomlib. We also developed additional developer tooling such as circom-helper and zkey-manager.</p>
<p>Finally, we significantly reduced gas costs borne by users by replacing our incremental Merkle tree contracts with a modified deposit queue mechanism. While this new mechanism achieves the same outcome, it shifts some gas costs from users to the coordinator. A comparison of approximate gas costs for user-executed operations is as follows:</p>
<p>Finally, we are looking forward to collaborating with other projects and supporting their development of client applications and new use cases. For instance, clr.fund team has indicated that they would like to upgrade their stack to MACI v1.0, and other projects have expressed interest in adopting MACI. We hope that through collaboration, the Ethereum community can benefit from our work, and vice versa.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="further-work">Further work<a href="https://maci.pse.dev/blog/maci-1-0-release#further-work" class="hash-link" aria-label="Direct link to Further work" title="Direct link to Further work">​</a></h2>
<p>There is plenty of space for MACI to grow and we welcome new ideas. We are keen to work with developers who wish to do interesting and impactful work, especially folks who would like to learn how to build applications with zk-SNARKs and Ethereum.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="negative-voting">Negative voting<a href="https://maci.pse.dev/blog/maci-1-0-release#negative-voting" class="hash-link" aria-label="Direct link to Negative voting" title="Direct link to Negative voting">​</a></h3>
<p>We thank Samuel Gosling for completing a grant for work on negative voting. This allows voters to use their voice credits to not only signal approval of a vote option, but also disapproval. Please note that the negative voting branch, while complete, is currently unaudited and therefore not yet merged into the main MACI codebase.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="anonymisation">Anonymisation<a href="https://maci.pse.dev/blog/maci-1-0-release#anonymisation" class="hash-link" aria-label="Direct link to Anonymisation" title="Direct link to Anonymisation">​</a></h3>
<p>A suggested upgrade to MACI is to use ElGamal re-randomisation for anonymity of voters. While all votes are encrypted, currently the coordinator is able to decrypt and read them. With re-randomisation, the coordinator would not be able to tell which user took which action.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="coordinator-tooling">Coordinator tooling<a href="https://maci.pse.dev/blog/maci-1-0-release#coordinator-tooling" class="hash-link" aria-label="Direct link to Coordinator tooling" title="Direct link to Coordinator tooling">​</a></h3>
<p>We are working on tooling that makes it easier for coordinators to interface with deployed contracts and manage tallies for multiple polls. This will allow users to generate proofs and query inputs and outputs from existing circuits through an easy-to-use API. We hope that this will drive more adoption of MACI and offload the need for bespoke infrastructure.</p>
<h3 class="anchor anchorWithStickyNavbar_I2WF" id="trusted-setup">Trusted setup<a href="https://maci.pse.dev/blog/maci-1-0-release#trusted-setup" class="hash-link" aria-label="Direct link to Trusted setup" title="Direct link to Trusted setup">​</a></h3>
<p>Unlike other ZKP projects, MACI does not have an official trusted setup. Instead, we hope to assist teams implementing MACI in their applications to run their own trusted setup. For instance, clr.fund recently completed a trusted setup (on a previous version of MACI) for a specific set of circuit parameters. Other teams may wish to use a different set of parameters on MACI 1.0, which calls for a different trusted setup.</p>
<h2 class="anchor anchorWithStickyNavbar_I2WF" id="conclusion">Conclusion<a href="https://maci.pse.dev/blog/maci-1-0-release#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>This release marks a step towards the hard problem of preventing collusion in decentralised voting and quadratic funding systems. We are excited to share our work and please get in touch if you are a developer and are interested in getting involved in any way.</p>]]></content>
        <author>
            <name>Koh Wei Jie</name>
            <uri>https://github.com/weijiekoh</uri>
        </author>
        <category label="zk" term="zk"/>
        <category label="maci" term="maci"/>
        <category label="release" term="release"/>
        <category label="voting" term="voting"/>
        <category label="security" term="security"/>
    </entry>
</feed>