"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6582],{7988:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var i=n(5250),o=n(720);const s={title:"MACI Poll Types",description:"Which type of polls you can run on MACI",sidebar_label:"MACI poll types",sidebar_position:21},a="MACI Poll Types",r={id:"poll-types",title:"MACI Poll Types",description:"Which type of polls you can run on MACI",source:"@site/versioned_docs/version-v1.x/poll-types.md",sourceDirName:".",slug:"/poll-types",permalink:"/docs/poll-types",draft:!1,unlisted:!1,editUrl:"https://github.com/privacy-scaling-explorations/maci/edit/dev/website/versioned_docs/version-v1.x/poll-types.md",tags:[],version:"v1.x",sidebarPosition:21,frontMatter:{title:"MACI Poll Types",description:"Which type of polls you can run on MACI",sidebar_label:"MACI poll types",sidebar_position:21},sidebar:"version-1.x/mySidebar",previous:{title:"Code of Conduct",permalink:"/docs/contributing/code-of-conduct"},next:{title:"Topup",permalink:"/docs/topup"}},c={},l=[{value:"Quadratic Voting",id:"quadratic-voting",level:2},{value:"Non Quadratic Voting",id:"non-quadratic-voting",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"maci-poll-types",children:"MACI Poll Types"}),"\n",(0,i.jsx)(t.p,{children:"MACI allows to conduct polls in both a quadratic voting and non quadratic voting fashion. One should be aware that the only distinction between the two happens when messages are processed and votes tallied. On top of that, the Tally smart contract has been split into two different ones, with the non quadratic voting version one being slightly smaller, due to the need of one less function."}),"\n",(0,i.jsx)(t.p,{children:"This document will explain how to use each of these options."}),"\n",(0,i.jsx)(t.h2,{id:"quadratic-voting",children:"Quadratic Voting"}),"\n",(0,i.jsxs)(t.p,{children:["MACI has always worked with quadratic voting. Users signing up to MACI are assigned a number of voice credits based on certain conditions (enforced by the ",(0,i.jsx)(t.a,{href:"https://github.com/privacy-scaling-explorations/maci/blob/dev/contracts/contracts/initialVoiceCreditProxy/InitialVoiceCreditProxy.sol",children:"initial voice credit proxy contract"}),"), and after each vote, the number of voice credits is reduced by the square of the weight of the vote casted. For instance, if the vote weight is 5, a user must have at least 25 voice credits to cast the vote."]}),"\n",(0,i.jsxs)(t.p,{children:["To run a poll with quadratic voting, the coordinator must set the ",(0,i.jsx)(t.code,{children:"useQuadraticVoting"})," parameter to ",(0,i.jsx)(t.code,{children:"true"})," when creating the MACI instance. This will make the MACI instance use the ",(0,i.jsx)(t.code,{children:"Tally"})," smart contract, which is the one that has been used since the beginning of MACI."]}),"\n",(0,i.jsx)(t.p,{children:"Using MACI's cli, one can create a MACI instance with quadratic voting by running the following command:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"maci-cli create -uq true $OTHER_PARAMETERS\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Then, when generating the zkSNARK proofs, the coordinator should pass the following to the ",(0,i.jsx)(t.code,{children:"genProofs"})," command:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"maci-cli genProofs -uq true $OTHER_PARAMETERS\n"})}),"\n",(0,i.jsx)(t.p,{children:"For users, when verifying the tally results, please ensure that the tally file contains the entry:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "isQuadratic": true\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"If verifying without a tally file, but by passing a tally data object, please ensure that the object has the same entry set to true."}),"\n",(0,i.jsx)(t.h2,{id:"non-quadratic-voting",children:"Non Quadratic Voting"}),"\n",(0,i.jsx)(t.p,{children:"The non quadratic voting option is a new feature that has been added to MACI with the v1.2 release. It allows to conduct polls without the quadratic voting mechanism. This means that the number of voice credits is not reduced by the square of the weight of the vote casted. This option is useful for polls where the quadratic voting mechanism is not necessary, and it is also slightly cheaper for coordinators to tally votes, as there are less checks required in the Tally smart contract."}),"\n",(0,i.jsxs)(t.p,{children:["To run a poll with non quadratic voting, the coordinator must set the ",(0,i.jsx)(t.code,{children:"useQuadraticVoting"})," parameter to ",(0,i.jsx)(t.code,{children:"false"})," when creating the MACI instance. This will make the MACI instance use the ",(0,i.jsx)(t.code,{children:"TallyNonQv"})," smart contract, which is a smaller version of the ",(0,i.jsx)(t.code,{children:"Tally"})," smart contract, as it does not require the checks for the quadratic voting mechanism."]}),"\n",(0,i.jsx)(t.p,{children:"Using MACI's cli, one can create a MACI instance with non quadratic voting by running the following command:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"maci-cli create -uq false $OTHER_PARAMETERS\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Then, when generating the zkSNARK proofs, the coordinator should pass the following to the ",(0,i.jsx)(t.code,{children:"genProofs"})," command:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"maci-cli genProofs -uq false $OTHER_PARAMETERS\n"})}),"\n",(0,i.jsx)(t.p,{children:"For users, when verifying the tally results, please ensure that the tally file contains the entry:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "isQuadratic": false\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"If verifying without a tally file, but by passing a tally data object, please ensure that the object has the same entry set to false."})]})}function d(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},720:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>a});var i=n(79);const o={},s=i.createContext(o);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);